<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/circle.css">
    <title>Document</title>
</head>
<body>




  <div>
    <div class='navbar' title='Menu'>
      <i class="fa fa-bars" aria-hidden="true"></i>
   </div>
   <div class="close">
      <i class="fa fa-times" aria-hidden="true"></i>
   </div>
   <section>
      <div class="container">
         <h1>Animated Fullscreen Navigation</h1>
      </div>
   </section>
   <div id="navigationWrap">
      <div class="container menu">
         <nav>
            <ul>
               <li><a href="#">Home</a></li>
               <li><a href="#">Projects</a></li>
               <li><a href="#">About</a></li>
               <li><a href="#">Journal</a></li>
               <li><a href="#">Contact</a></li>
            </ul>
         </nav>
         <div class="social">
            <a href="#"><i class="fa fa-codepen" aria-hidden="true"></i></a>
            <a href="#"><i class="fa fa-github" aria-hidden="true"></i></a>
            <a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
            <a href="#"><i class="fa fa-behance" aria-hidden="true"></i></a>
         </div>
      </div>
   </div>
  </div>
    <div>
        <svg viewBox="0 0 100 100" width="100" height="100">
            <defs>
              <path id="circle"
                d="
                  M 50, 50
                  m -37, 0
                  a 37,37 0 1,1 74,0
                  a 37,37 0 1,1 -74,0"/>
            </defs>
            <text font-size="17">
              <textPath xlink:href="#circle">
                The Way Church...The Way Church
              </textPath>
            </text>
          </svg>
    </div>

    <div>

    <button>View the Experience</button>

    <svg xmlns="http://www.w3.org/2000/svg" xml:lang="en"
    xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500">
        <title>Circular Text Path</title>

        <defs>
            <path id="textcircle"
                d="M250,400
                    a150,150 0 0,1 0,-300a150,150 0 0,1 0,300Z"
                transform="rotate(12,250,250)"/>
        </defs>
        <rect width="100%" height="100%" fill="none" />
        <text>
            <textPath xlink:href="#textcircle"
                    aria-label="All for One &amp; One for All"
                    textLength="942">VIEW THE EXPERIENCE. </textPath>
        </text>

    </svg>
    </div>

    <div>
      <img src="https://assets.codepen.io/2621168/svgtest.svg" alt="Phone illustration">
    </div>

    <script>
      var navigation = new TimelineLite({paused:true, reversed:true});
navigation.to("#navigationWrap", 0.5, {opacity: 1, display: 'block'})
          .to(".navbar", 0.3, {opacity: 0}, "-=0.1")
          .to(".close", 0.3, {display: "block", opacity: 1}, "-=0.1")
          .from(".menu", 0.5, {opacity: 0, y: 30})
          .from(".social", 0.5, {opacity: 0});

$(".navbar, .close").click (function() {
  navigation.reversed() ? navigation.play() : navigation.reverse();
})


const circleSvg = document.querySelector('svg')
        const btn = document.querySelector('button')

        let mouseX = 0
        let mouseY = 0
        //let intv = 0

        window.addEventListener('mousemove', (event) => {
            // circleSvg.style.top = event.clientY - 45;
            // circleSvg.style.left = event.clientX - 45;

            mouseY = (event.clientY / 16) - (45 / 16) + 'rem'
            mouseX = (event.clientX / 16) - (45 / 16) + 'rem'
        })

        const mouseMove = () => {
            //intv += 1
            
            circleSvg.style.top = mouseY
            circleSvg.style.left = mouseX

            //circleSvg.style.opacity = 1 + Math.sin(intv * .04)
            //console.log(Math.sin(intv * .04))

            window.requestAnimationFrame(mouseMove)
        }

        mouseMove()

        var tl = gsap.timeline({defaults: {ease: "power2.inOut"}})

        tl.to(circleSvg, {width: 0, opacity: 0})
        tl.to('body, button', {background: 'white'})
        tl.pause()

        btn.addEventListener('click', () => {
            tl.play()
        })
    </script>
</body>
</html>